<link rel="import" href="userview.html">
<link rel="import" href="useractionsview.html">

<polymer-element name="user-info-view">
  <template>
    <style>
    .delegateButton {
      background-color: #18D673 ;
      margin: 40px 0 0 0;
      color: #fff;
      font-size: 20px;
      padding: 10px 20px;
      -webkit-border-radius: 2px;
      border: 0px;
    }
    .user {
      width: 600px;
      margin: 40px auto 0 auto;
      text-align: center;
    }
    .description {
      text-align: left;
    }
    </style>
    <div class="user">
    <template if="{{!isLoaded}}">
      {{loading()}}
    </template>
    <template if="{{isLoaded}}">
      <h3>{{userInformation()}}</h3>
      <user-view user="{{user}}"></user-view>
      <h3>{{user.city}}</h3>
      <div class="description">
        {{user.description}}
      </div>
      <button class="delegateButton" on-click="{{voteUser}}">{{delegateMessage()}}</button>
      <p></p>
      <template if="{{delegate != null}}">
         {{delegatedByUser()}}
         <user-view user="{{delegate}}"></user-view>
      </template>
      <p></p>
      <template if="{{delegate == null}}">
        {{delegatedThisUser()}}
        <template repeat="{{user in userVotes}}">
           <p><user-view user="{{user}}"></user-view></p>
        </template>
      </template>
      <user-actions-view useractions="{{userActions}}"></user-actions-view>
    </template>
    </div>
  </template>
  <script type="application/dart" src="userinfoview.dart"></script>
</polymer-element>